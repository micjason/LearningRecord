<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue路由 | 漫数窗花，青袍染晨霜</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link res="icon" href="./public/favicon.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/LearningRecord/assets/css/1.styles.64c025f6.css" as="style"><link rel="preload" href="/LearningRecord/assets/js/app.bb89e912.js" as="script"><link rel="preload" href="/LearningRecord/assets/js/2.23800012.js" as="script"><link rel="preload" href="/LearningRecord/assets/js/15.2d3b7982.js" as="script"><link rel="prefetch" href="/LearningRecord/assets/js/10.11122e83.js"><link rel="prefetch" href="/LearningRecord/assets/js/11.77066534.js"><link rel="prefetch" href="/LearningRecord/assets/js/12.0b60510d.js"><link rel="prefetch" href="/LearningRecord/assets/js/13.ff5ce2a2.js"><link rel="prefetch" href="/LearningRecord/assets/js/14.ec03ac06.js"><link rel="prefetch" href="/LearningRecord/assets/js/16.40692737.js"><link rel="prefetch" href="/LearningRecord/assets/js/3.7faaac93.js"><link rel="prefetch" href="/LearningRecord/assets/js/4.6b4ff2dd.js"><link rel="prefetch" href="/LearningRecord/assets/js/5.214e33e3.js"><link rel="prefetch" href="/LearningRecord/assets/js/6.d81ec996.js"><link rel="prefetch" href="/LearningRecord/assets/js/7.ba1960d3.js"><link rel="prefetch" href="/LearningRecord/assets/js/8.02dce62c.js"><link rel="prefetch" href="/LearningRecord/assets/js/9.b1ad2f82.js">
    <link rel="stylesheet" href="/LearningRecord/assets/css/1.styles.64c025f6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div class="content__default"><h2 id="vue路由"><a href="#vue路由" class="header-anchor">#</a> vue路由</h2> <ol><li><p>定义一个router文件夹，新建<code>index.js</code>，引入vue和vue-router，然后引入各个组件，<code>Vue.use(Router)</code>,编写路由规则，
<code>export default new Router(routes:[规则])</code>
在<code>main.js</code>里面引入<code>index.js</code>,<code>Vue.use(router)</code>,挂载在到实例上</p></li> <li><p>动态路由匹配</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>{
      path: '/pageb/:id',
      name: 'pageB',
      component: pageB
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>&lt;div @click=&quot;jump('/pageB/bar')&quot;&gt;导向B-bar&lt;/div&gt;
&lt;div @click=&quot;jump('/pageB/foo')&quot;&gt;导向B-foo&lt;/div&gt;
</code></pre></div><p>此时bar跳到foo不会触发页面的生命周期钩子，复用组件时，想对路由参数的变化作出响应的话，你可以简单地 watch (监测变化) <code>$route</code> 对象：</p> <div class="language- extra-class"><pre class="language-text"><code>$route(to, from) {
    console.log(this.$route.params, to, from)
}
</code></pre></div><p>常规参数只会匹配被 / 分隔的 URL 片段中的字符。如果想匹配任意路径，我们可以使用通配符 (*)：</p> <ol start="3"><li>嵌套路由</li></ol> <div class="language- extra-class"><pre class="language-text"><code>children: [
        {
          path: '/pageb2',
          name: 'pageB2',
          component: pageB2
        },
        {
          path: '/pageb3',
          name: 'pageB3',
          component: pageB3
        }
      ]
</code></pre></div><p>然后就可以在子组件里面使用router-view了</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div @click=&quot;jump('/pageb2')&quot;&gt;page2&lt;/div&gt;
&lt;div @click=&quot;jump('/pageb3')&quot;&gt;page3&lt;/div&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>jump(src) {
      this.$router.push({
        path: src
      })
}
</code></pre></div><ol start="4"><li>编程式的导航<code>this.$router.push</code></li></ol> <ul><li>字符串  字符串路径
<code>router.push('home')</code></li> <li>对象
<code>router.push({ path: 'home' })</code></li> <li>命名的路由
<code>router.push({ name: 'user', params: { userId: '123' }})</code></li> <li>带查询参数，变成 <code>/register?plan=private</code> <code>router.push({ path: 'register', query: { plan: 'private' }})</code></li></ul> <p>注意：如果提供了 path，params 会被忽略，上述例子中的 query 并不属于这种情况。取而代之的是下面例子的做法，你需要提供路由的 name 或手写完整的带有参数的 path：</p> <div class="language- extra-class"><pre class="language-text"><code>const userId = '123'
router.push({ name: 'user', params: { userId }}) // -&gt; /user/123
router.push({ path: `/user/${userId}` }) // -&gt; /user/123
</code></pre></div><p>// 这里的 params 不生效
<code>router.push({ path: '/user', params: { userId }}) // -&gt; /user</code></p></div></div><div class="global-ui"></div></div>
    <script src="/LearningRecord/assets/js/app.bb89e912.js" defer></script><script src="/LearningRecord/assets/js/2.23800012.js" defer></script><script src="/LearningRecord/assets/js/15.2d3b7982.js" defer></script>
  </body>
</html>
